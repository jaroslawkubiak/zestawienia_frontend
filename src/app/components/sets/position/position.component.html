<div class="positions-container">
  <p-table
    stripedRows
    dataKey="id"
    [scrollable]="true"
    [resizableColumns]="true"
    columnResizeMode="expand"
    class="p-datatable-gridlines"
    [value]="positions"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
    <ng-template #header>
      <tr>
        <th style="width: 3rem" class="header">LP</th>
        <th *ngFor="let column of columnList" class="header" pResizableColumn>
          {{ column.name }}
        </th>
      </tr>
    </ng-template>
    <ng-template #body let-position let-editing="editing" let-i="rowIndex">
      <tr>
        <td class="lp">
          {{ i + 1 }}
        </td>
        <td
          *ngFor="let pos of columnList"
          [pEditableColumn]="position[pos.value]"
          [pEditableColumnField]="pos.value"
        >
          <p-cellEditor
            (onEditComplete)="onEditComplete(position, pos.value)"
            (onEditInit)="onEditInit(position, pos.value)"
          >
            <ng-template #input>
              <div [ngSwitch]="pos.type">
                <input
                  *ngSwitchCase="'string'"
                  pInputText
                  type="text"
                  [(ngModel)]="position[pos.value]"
                />
                <input
                  *ngSwitchCase="'number'"
                  pInputText
                  type="number"
                  [(ngModel)]="position[pos.value]"
                />
              </div>
            </ng-template>
            <ng-template #output>
              <span class="viewMode">
                {{ position[pos.value] }}
              </span>
            </ng-template>
          </p-cellEditor>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
